class AQMap {

  constructor() {
    //OLD: this.colorRange = ['rgb(0,104,55,.2)', 'rgb(0,104,55,.5)', 'rgb(0,104,55)', 'rgb(26,152,80)', 'rgb(102,189,99)', 'rgb(166,217,106)', 'rgb(217,239,139)', 'rgb(255,255,191)', 'rgb(254,224,139)', 'rgb(253,174,97)', 'rgb(244,109,67)', 'rgb(215,48,39)', 'rgb(165,0,38)']; //['#a50026','#d73027','#f46d43','#fdae61','#fee08b','#ffffbf','#d9ef8b','#a6d96a','#66bd63','#1a9850','#006837'];
    //OLD: this.pm25Domain = [4, 8, 12, 20, 28, 35, 42, 49, 55, 150, 250, 350];
    //this.colorRange = ['rgba(0,104,55,.2)', 'rgba(254,237,222,1)', 'rgba(253,190,133,1)', 'rgba(253,141,60,1)', 'rgba(230,85,13,1)', 'rgba(166,54,3,1)', 'rgba(215,48,39,1)', 'rgba(165,0,38,1)']; //['#a50026','#d73027','#f46d43','#fdae61','#fee08b','#ffffbf','#d9ef8b','#a6d96a','#66bd63','#1a9850','#006837'];
    //this.pm25Domain = [0,12, 35, 42, 55, 150, 250];
    //this.colorRange = ['rgba(180,224,180,.1)', 'rgba(196, 186, 185,.5)', 'rgba(155,136,135,1)', 'rgba(116,89,88,1)', 'rgba(77,45,45,1)', 'rgba(215,48,39,1)']; //['#a50026','#d73027','#f46d43','#fdae61','#fee08b','#ffffbf','#d9ef8b','#a6d96a','#66bd63','#1a9850','#006837'];
    //this.pm25Domain = [0,12, 35, 55, 150, 250];
    this.colorRange = ['rgba(0,104,55,.2)', 'rgba(102,189,99,1)', 'rgba(255,239,139,1)', 'rgba(255,180,33,1)', 'rgba(253,174,97,1)', 'rgba(244,109,67,1)', 'rgba(215,48,39,1)', 'rgba(165,0,38,1)']; //['#a50026','#d73027','#f46d43','#fdae61','#fee08b','#ffffbf','#d9ef8b','#a6d96a','#66bd63','#1a9850','#006837'];
    this.pm25Domain = [0,4,12, 35, 55, 85,150, 250, 350];
  /*let lightGray = "rgba(240, 255, 240, 0.3)", //Option 1
        lightGreen = "rgba(219, 241, 215, 0.6)",
        lightYellow = "rgba(240, 240, 215,0.8)",
        mediumOrange = "rgba(245, 209, 161,0.9)",
        red = "rgba(212, 48, 48,0.9)",
        darkRed = "rgba(107, 5, 50,1.0)";
    /*this.colorRange = [d3.color(lightGray),d3.color(lightGreen),d3.color(lightYellow), d3.color(mediumOrange),d3.color(red),d3.color(darkRed)];
      this.pm25Domain = [0,12, 35, 55, 150, 250];
154	146	141
      [rgba(237,	225,	216,.3),rgba(154,146,141,.5),rgba(120,125,122,.9),rgba(126,98,77,0.9),rgba(79,75,72,0.9),rgba(54,25,58,0.9)]
79,75,72
    this.colorRange = [d3.color(lightGreen),d3.color(mediumOrange),d3.color(red),d3.color(darkRed)];
    this.pm25Domain = [0,50 ,120,200];*/
    //this.colorRange = ["rgba(237,	225,	216,.1)","rgba(154,146,141,.2)","rgba(120,125,122,.6)","rgba(126,98,77,0.9)","rgba(93,64,52,0.9)","rgba(93, 31, 52,0.9)","rgba(54,25,58,0.9)"];
    //this.pm25Domain = [0,12,33,55,105,155,250];
    window.controller.colorRange = this.colorRange;
    window.controller.pm25Domain = this.pm25Domain;

    /* For Sequential:
    this.colorMap = d3.scaleThreshold()
      .domain(this.pm25Domain)
      .range(this.colorRange);*/
    this.colorMap = d3.scaleLinear()
      .domain(this.pm25Domain)
      .range(this.colorRange);

    this.modelWidth = 36;
    this.modelHeight = 49;
    this.contours = null;
    this.currentPoint = 0;
    this.labels = [];
    this.data = {"index":{"0":77,"1":78,"2":79,"3":88,"4":97,"5":98,"6":99,"7":100,"8":101,"9":102,"10":103,"11":104,"12":105,"13":106,"14":107,"15":108,"16":109,"17":110,"18":111,"19":116,"20":117,"21":118,"22":119,"23":120,"24":121,"25":122,"26":123,"27":124,"28":125,"29":126,"30":127,"31":128,"32":129,"33":130,"34":131,"35":153,"36":154,"37":155,"38":156,"39":157,"40":158,"41":159,"42":160,"43":161,"44":162,"45":163,"46":164,"47":165,"48":166,"49":167,"50":168,"51":169,"52":170,"53":171,"54":172,"55":173,"56":174,"57":175,"58":176,"59":177,"60":178,"61":185,"62":186,"63":187,"64":188,"65":189,"66":190,"67":191,"68":192,"69":193,"70":194,"71":195,"72":196,"73":197,"74":198,"75":199,"76":254,"77":305,"78":306,"79":307,"80":308,"81":309,"82":310,"83":311,"84":312,"85":313,"86":314,"87":315,"88":316,"89":317,"90":318,"91":319,"92":320,"93":321,"94":322,"95":324,"96":325,"97":326,"98":327,"99":328,"100":329,"101":330,"102":331,"103":332,"104":333,"105":334,"106":335,"107":336,"108":337,"109":338,"110":339,"111":340,"112":341,"113":342,"114":343,"115":344,"116":347,"117":348,"118":349,"119":350,"120":351,"121":352,"122":353,"123":354,"124":355,"125":356,"126":357,"127":358,"128":359,"129":360,"130":413,"131":461,"132":462,"133":463,"134":464,"135":465,"136":466,"137":467,"138":468,"139":469,"140":470,"141":471,"142":472,"143":473,"144":474,"145":475,"146":476,"147":477,"148":514,"149":515,"150":516,"151":517,"152":518,"153":519,"154":520,"155":521,"156":522,"157":523,"158":524,"159":525,"160":526,"161":527,"162":528,"163":529,"164":530,"165":531,"166":532,"167":533,"168":534,"169":535,"170":536,"171":537,"172":538,"173":539,"174":540,"175":541,"176":542,"177":543,"178":544,"179":545,"180":546,"181":547,"182":548,"183":549,"184":550,"185":551,"186":552,"187":553,"188":554,"189":555,"190":556,"191":557,"192":558,"193":559,"194":560,"195":561,"196":562,"197":563,"198":564,"199":565,"200":566,"201":567,"202":568,"203":569,"204":570,"205":571,"206":572,"207":573,"208":574,"209":575,"210":576,"211":577,"212":578,"213":579,"214":580,"215":581,"216":582,"217":583,"218":584,"219":585,"220":586,"221":587,"222":588,"223":589,"224":590,"225":591,"226":592,"227":593,"228":594,"229":595,"230":596,"231":597,"232":598,"233":599,"234":600,"235":601,"236":602,"237":603,"238":604,"239":605,"240":606,"241":607,"242":608,"243":609,"244":986,"245":987,"246":988,"247":989,"248":990,"249":991,"250":992,"251":993,"252":994,"253":995,"254":996,"255":997,"256":998,"257":999,"258":1000,"259":1005,"260":1006,"261":1007,"262":1008,"263":1009,"264":1010,"265":1011,"266":1012,"267":1013,"268":1014,"269":1015,"270":1016,"271":1017,"272":1018,"273":1019,"274":1020,"275":1021,"276":1022,"277":1023,"278":1024,"279":1025,"280":1026,"281":1027,"282":1028,"283":1029,"284":1030,"285":1031,"286":1032,"287":1033,"288":1034,"289":1035,"290":1036,"291":1037,"292":1038,"293":1039,"294":1040,"295":1041,"296":1042,"297":1043,"298":1044,"299":1045,"300":1046,"301":1047,"302":1048,"303":1049,"304":1050,"305":1051,"306":1052,"307":1053,"308":1054,"309":1055,"310":1056,"311":1057,"312":1058,"313":1059,"314":1060,"315":1061,"316":1062,"317":1063,"318":1064,"319":1065,"320":1066,"321":1067,"322":1068,"323":1069,"324":1070,"325":1071,"326":1072,"327":1073,"328":1074,"329":1075,"330":1076,"331":1077,"332":1078,"333":1079,"334":1080,"335":1081,"336":1082,"337":1083,"338":1084,"339":1085,"340":1086,"341":1087,"342":1088,"343":1089,"344":1090,"345":1091,"346":1092,"347":1093,"348":1094,"349":1125,"350":1126,"351":1127,"352":1128,"353":1129,"354":1130,"355":1131,"356":1132,"357":1133,"358":1134,"359":1135,"360":1136,"361":1137,"362":1138,"363":1139,"364":1140,"365":1141,"366":1152,"367":1153,"368":1154,"369":1155,"370":1156,"371":1157,"372":1158,"373":1159,"374":1160,"375":1161,"376":1162,"377":1163,"378":1164,"379":1165,"380":1166,"381":1167,"382":1168,"383":1169,"384":1170,"385":1171,"386":1172,"387":1173,"388":1174,"389":1175,"390":1176,"391":1177,"392":1178,"393":1179,"394":1180,"395":1181,"396":1182,"397":1183,"398":1184,"399":1185,"400":1186,"401":1187,"402":1188,"403":1189,"404":1190,"405":1191,"406":1226,"407":1227,"408":1228,"409":1229,"410":1495,"411":1496,"412":1497,"413":1498,"414":1499,"415":1500,"416":1501,"417":1502,"418":1503,"419":1504,"420":1505,"421":1506,"422":1507,"423":1508,"424":1509,"425":1510,"426":1511,"427":1512,"428":1513,"429":1514,"430":1515,"431":1516,"432":1517,"433":1518,"434":1519,"435":1520,"436":1521,"437":1522,"438":1523,"439":1524,"440":1525,"441":1526,"442":1527,"443":1528,"444":1529,"445":1530,"446":1531,"447":1532,"448":1533,"449":1570,"450":1575,"451":1774,"452":1775,"453":3081,"454":3082,"455":3083,"456":3084,"457":3085,"458":3086,"459":3098,"460":3099,"461":3100,"462":3123,"463":3124,"464":3125,"465":3126,"466":3127,"467":3128,"468":3219,"469":3220,"470":3221,"471":3222,"472":3223,"473":3700,"474":3701,"475":3702,"476":3764,"477":3766,"478":3767,"479":3856,"480":3857,"481":3858,"482":3859,"483":3860,"484":3861,"485":3862,"486":3863,"487":3864,"488":3865,"489":3866,"490":3867,"491":3868,"492":3869,"493":3870,"494":3871,"495":3872,"496":3873,"497":3874},"Lat":{"0":40.529241,"1":40.529241,"2":40.529241,"3":40.529241,"4":40.649268,"5":40.649268,"6":40.649268,"7":40.649268,"8":40.649268,"9":40.649268,"10":40.649268,"11":40.649268,"12":40.649268,"13":40.649268,"14":40.649268,"15":40.649268,"16":40.649268,"17":40.649268,"18":40.649268,"19":40.649268,"20":40.649268,"21":40.649268,"22":40.649268,"23":40.649268,"24":40.649268,"25":40.649268,"26":40.649268,"27":40.649268,"28":40.649268,"29":40.649268,"30":40.649268,"31":40.649268,"32":40.649268,"33":40.649268,"34":40.649268,"35":40.728233,"36":40.728233,"37":40.728233,"38":40.728233,"39":40.728233,"40":40.728233,"41":40.728233,"42":40.728233,"43":40.728233,"44":40.728233,"45":40.728233,"46":40.728233,"47":40.728233,"48":40.728233,"49":40.728233,"50":40.728233,"51":40.728233,"52":40.728233,"53":40.728233,"54":40.728233,"55":40.728233,"56":40.728233,"57":40.728233,"58":40.728233,"59":40.728233,"60":40.728233,"61":40.728233,"62":40.728233,"63":40.728233,"64":40.728233,"65":40.728233,"66":40.728233,"67":40.728233,"68":40.728233,"69":40.728233,"70":40.728233,"71":40.728233,"72":40.728233,"73":40.728233,"74":40.728233,"75":40.728233,"76":40.728233,"77":40.728233,"78":40.728233,"79":40.728233,"80":40.728233,"81":40.728233,"82":40.728233,"83":40.728233,"84":40.728233,"85":40.728233,"86":40.728233,"87":40.728233,"88":40.728233,"89":40.728233,"90":40.728233,"91":40.728233,"92":40.728233,"93":40.728233,"94":40.728233,"95":40.728233,"96":40.728233,"97":40.728233,"98":40.728233,"99":40.728233,"100":40.728233,"101":40.728233,"102":40.728233,"103":40.728233,"104":40.728233,"105":40.728233,"106":40.728233,"107":40.728233,"108":40.728233,"109":40.728233,"110":40.728233,"111":40.728233,"112":40.728233,"113":40.728233,"114":40.728233,"115":40.728233,"116":40.728233,"117":40.728233,"118":40.728233,"119":40.728233,"120":40.728233,"121":40.728233,"122":40.728233,"123":40.728233,"124":40.728233,"125":40.728233,"126":40.728233,"127":40.728233,"128":40.728233,"129":40.728233,"130":40.728233,"131":40.728233,"132":40.728233,"133":40.728233,"134":40.728233,"135":40.728233,"136":40.728233,"137":40.728233,"138":40.728233,"139":40.728233,"140":40.728233,"141":40.728233,"142":40.728233,"143":40.728233,"144":40.728233,"145":40.728233,"146":40.728233,"147":40.728233,"148":40.601185,"149":40.601185,"150":40.601185,"151":40.601185,"152":40.601185,"153":40.601185,"154":40.601185,"155":40.601185,"156":40.601185,"157":40.601185,"158":40.601185,"159":40.601185,"160":40.601185,"161":40.601185,"162":40.601185,"163":40.601185,"164":40.601185,"165":40.601185,"166":40.601185,"167":40.601185,"168":40.601185,"169":40.601185,"170":40.601185,"171":40.601185,"172":40.601185,"173":40.601185,"174":40.601185,"175":40.601185,"176":40.601185,"177":40.601185,"178":40.601185,"179":40.601185,"180":40.601185,"181":40.601185,"182":40.601185,"183":40.601185,"184":40.601185,"185":40.601185,"186":40.601185,"187":40.601185,"188":40.601185,"189":40.601185,"190":40.601185,"191":40.601185,"192":40.601185,"193":40.601185,"194":40.601185,"195":40.601185,"196":40.601185,"197":40.601185,"198":40.601185,"199":40.601185,"200":40.601185,"201":40.601185,"202":40.601185,"203":40.601185,"204":40.601185,"205":40.601185,"206":40.601185,"207":40.601185,"208":40.601185,"209":40.601185,"210":40.601185,"211":40.601185,"212":40.601185,"213":40.601185,"214":40.601185,"215":40.601185,"216":40.601185,"217":40.601185,"218":40.601185,"219":40.601185,"220":40.601185,"221":40.601185,"222":40.601185,"223":40.601185,"224":40.601185,"225":40.601185,"226":40.601185,"227":40.601185,"228":40.601185,"229":40.601185,"230":40.601185,"231":40.601185,"232":40.601185,"233":40.601185,"234":40.601185,"235":40.601185,"236":40.601185,"237":40.601185,"238":40.601185,"239":40.601185,"240":40.601185,"241":40.601185,"242":40.601185,"243":40.571616,"244":40.531727,"245":40.531727,"246":40.531727,"247":40.531727,"248":40.531727,"249":40.531727,"250":40.531727,"251":40.531727,"252":40.531727,"253":40.531727,"254":40.531727,"255":40.531727,"256":40.531727,"257":40.531727,"258":40.531727,"259":40.531727,"260":40.531727,"261":40.531727,"262":40.531727,"263":40.531727,"264":40.531727,"265":40.531727,"266":40.531727,"267":40.531727,"268":40.531727,"269":40.531727,"270":40.531727,"271":40.531727,"272":40.531727,"273":40.531727,"274":40.531727,"275":40.531727,"276":40.531727,"277":40.531727,"278":40.531727,"279":40.531727,"280":40.531727,"281":40.531727,"282":40.531727,"283":40.531727,"284":40.531727,"285":40.531727,"286":40.531727,"287":40.531727,"288":40.531727,"289":40.531727,"290":40.531727,"291":40.531727,"292":40.531727,"293":40.531727,"294":40.531727,"295":40.531727,"296":40.531727,"297":40.531727,"298":40.531727,"299":40.531727,"300":40.531727,"301":40.531727,"302":40.531727,"303":40.531727,"304":40.531727,"305":40.531727,"306":40.531727,"307":40.531727,"308":40.531727,"309":40.531727,"310":40.531727,"311":40.531727,"312":40.531727,"313":40.531727,"314":40.531727,"315":40.531727,"316":40.531727,"317":40.531727,"318":40.531727,"319":40.531727,"320":40.531727,"321":40.531727,"322":40.531727,"323":40.531727,"324":40.531727,"325":40.531727,"326":40.531727,"327":40.531727,"328":40.531727,"329":40.531727,"330":40.531727,"331":40.531727,"332":40.531727,"333":40.531727,"334":40.531727,"335":40.531727,"336":40.531727,"337":40.531727,"338":40.531727,"339":40.531727,"340":40.531727,"341":40.531727,"342":40.531727,"343":40.531727,"344":40.531727,"345":40.531727,"346":40.531727,"347":40.531727,"348":40.531727,"349":40.531727,"350":40.531727,"351":40.531727,"352":40.531727,"353":40.531727,"354":40.531727,"355":40.531727,"356":40.531727,"357":40.531727,"358":40.531727,"359":40.531727,"360":40.531727,"361":40.531727,"362":40.531727,"363":40.531727,"364":40.531727,"365":40.531727,"366":40.531727,"367":40.531727,"368":40.531727,"369":40.531727,"370":40.531727,"371":40.531727,"372":40.531727,"373":40.531727,"374":40.531727,"375":40.531727,"376":40.531727,"377":40.531727,"378":40.531727,"379":40.531727,"380":40.531727,"381":40.531727,"382":40.531727,"383":40.531727,"384":40.531727,"385":40.531727,"386":40.531727,"387":40.531727,"388":40.531727,"389":40.531727,"390":40.531727,"391":40.531727,"392":40.531727,"393":40.531727,"394":40.531727,"395":40.531727,"396":40.531727,"397":40.531727,"398":40.531727,"399":40.531727,"400":40.531727,"401":40.531727,"402":40.531727,"403":40.531727,"404":40.531727,"405":40.531727,"406":40.531727,"407":40.531727,"408":40.531727,"409":40.531727,"410":40.531727,"411":40.531727,"412":40.531727,"413":40.531727,"414":40.531727,"415":40.531727,"416":40.531727,"417":40.531727,"418":40.531727,"419":40.531727,"420":40.531727,"421":40.531727,"422":40.531727,"423":40.531727,"424":40.531727,"425":40.531727,"426":40.531727,"427":40.531727,"428":40.531727,"429":40.531727,"430":40.531727,"431":40.531727,"432":40.531727,"433":40.531727,"434":40.531727,"435":40.531727,"436":40.531727,"437":40.531727,"438":40.531727,"439":40.531727,"440":40.531727,"441":40.531727,"442":40.531727,"443":40.531727,"444":40.531727,"445":40.531727,"446":40.531727,"447":40.531727,"448":40.531727,"449":40.531727,"450":40.531727,"451":40.531727,"452":40.531727,"453":40.531727,"454":40.531727,"455":40.531727,"456":40.531727,"457":40.531727,"458":40.531727,"459":40.601076,"460":40.601076,"461":40.601076,"462":40.835497,"463":40.835497,"464":40.835497,"465":40.835497,"466":40.835497,"467":40.835497,"468":40.835497,"469":40.835497,"470":40.835497,"471":40.835497,"472":40.835497,"473":40.640174,"474":40.640174,"475":40.640174,"476":40.77445,"477":40.77445,"478":40.77445,"479":40.777286,"480":40.777286,"481":40.777286,"482":40.777286,"483":40.777286,"484":40.777286,"485":40.777286,"486":40.777286,"487":40.777286,"488":40.777286,"489":40.777286,"490":40.777286,"491":40.777286,"492":40.777286,"493":40.777286,"494":40.777286,"495":40.777286,"496":40.777286,"497":40.777286},"Long":{"0":-111.848698,"1":-111.848698,"2":-111.848698,"3":-111.849198,"4":-111.807017,"5":-111.807017,"6":-111.807017,"7":-111.807017,"8":-111.807017,"9":-111.807017,"10":-111.807017,"11":-111.807017,"12":-111.807017,"13":-111.807017,"14":-111.807017,"15":-111.807017,"16":-111.807017,"17":-111.807017,"18":-111.807017,"19":-111.807517,"20":-111.807517,"21":-111.807517,"22":-111.807517,"23":-111.807517,"24":-111.807517,"25":-111.807517,"26":-111.807517,"27":-111.807517,"28":-111.807517,"29":-111.807517,"30":-111.807517,"31":-111.807517,"32":-111.807517,"33":-111.807517,"34":-111.807517,"35":-111.838333,"36":-111.838333,"37":-111.838333,"38":-111.838333,"39":-111.838333,"40":-111.838333,"41":-111.838333,"42":-111.838333,"43":-111.838333,"44":-111.838333,"45":-111.838333,"46":-111.838333,"47":-111.838333,"48":-111.838333,"49":-111.838333,"50":-111.838333,"51":-111.838333,"52":-111.838333,"53":-111.838333,"54":-111.838333,"55":-111.838333,"56":-111.838333,"57":-111.838333,"58":-111.838333,"59":-111.838333,"60":-111.838333,"61":-111.838333,"62":-111.838333,"63":-111.838333,"64":-111.838333,"65":-111.838333,"66":-111.838333,"67":-111.838333,"68":-111.838333,"69":-111.838333,"70":-111.838333,"71":-111.838333,"72":-111.838333,"73":-111.838333,"74":-111.838333,"75":-111.838333,"76":-111.838333,"77":-111.838333,"78":-111.838333,"79":-111.838333,"80":-111.838333,"81":-111.838333,"82":-111.838333,"83":-111.838333,"84":-111.838333,"85":-111.838333,"86":-111.838333,"87":-111.838333,"88":-111.838333,"89":-111.838333,"90":-111.838333,"91":-111.838333,"92":-111.838333,"93":-111.838333,"94":-111.838333,"95":-111.838833,"96":-111.838833,"97":-111.838833,"98":-111.838833,"99":-111.838833,"100":-111.838833,"101":-111.838833,"102":-111.838833,"103":-111.838833,"104":-111.838833,"105":-111.838833,"106":-111.838833,"107":-111.838833,"108":-111.838833,"109":-111.838833,"110":-111.838833,"111":-111.838833,"112":-111.838833,"113":-111.838833,"114":-111.838833,"115":-111.838833,"116":-111.838833,"117":-111.838833,"118":-111.838833,"119":-111.838833,"120":-111.838833,"121":-111.838833,"122":-111.838833,"123":-111.838833,"124":-111.838833,"125":-111.838833,"126":-111.838833,"127":-111.838833,"128":-111.838833,"129":-111.838833,"130":-111.838833,"131":-111.838833,"132":-111.838833,"133":-111.838833,"134":-111.838833,"135":-111.838833,"136":-111.838833,"137":-111.838833,"138":-111.838833,"139":-111.838833,"140":-111.838833,"141":-111.838833,"142":-111.838833,"143":-111.838833,"144":-111.838833,"145":-111.838833,"146":-111.838833,"147":-111.838833,"148":-111.81312,"149":-111.81312,"150":-111.81312,"151":-111.81312,"152":-111.81312,"153":-111.81312,"154":-111.81312,"155":-111.81312,"156":-111.81312,"157":-111.81312,"158":-111.81312,"159":-111.81312,"160":-111.81312,"161":-111.81312,"162":-111.81312,"163":-111.81312,"164":-111.81312,"165":-111.81312,"166":-111.81312,"167":-111.81312,"168":-111.81312,"169":-111.81312,"170":-111.81312,"171":-111.81312,"172":-111.81312,"173":-111.81312,"174":-111.81312,"175":-111.81312,"176":-111.81312,"177":-111.81312,"178":-111.81312,"179":-111.81312,"180":-111.81312,"181":-111.81312,"182":-111.81312,"183":-111.81312,"184":-111.81312,"185":-111.81312,"186":-111.81312,"187":-111.81312,"188":-111.81312,"189":-111.81312,"190":-111.81312,"191":-111.81312,"192":-111.81312,"193":-111.81312,"194":-111.81312,"195":-111.81312,"196":-111.81312,"197":-111.81362,"198":-111.81362,"199":-111.81362,"200":-111.81362,"201":-111.81362,"202":-111.81362,"203":-111.81362,"204":-111.81362,"205":-111.81362,"206":-111.81362,"207":-111.81362,"208":-111.81362,"209":-111.81362,"210":-111.81362,"211":-111.81362,"212":-111.81362,"213":-111.81362,"214":-111.81362,"215":-111.81362,"216":-111.81362,"217":-111.81362,"218":-111.81362,"219":-111.81362,"220":-111.81362,"221":-111.81362,"222":-111.81362,"223":-111.81362,"224":-111.81362,"225":-111.81362,"226":-111.81362,"227":-111.81362,"228":-111.81362,"229":-111.81362,"230":-111.81362,"231":-111.81362,"232":-111.81362,"233":-111.81362,"234":-111.81362,"235":-111.81362,"236":-111.81362,"237":-111.81362,"238":-111.81362,"239":-111.81362,"240":-111.81362,"241":-111.81362,"242":-111.81362,"243":-111.924193,"244":-111.831501,"245":-111.831501,"246":-111.831501,"247":-111.831501,"248":-111.831501,"249":-111.831501,"250":-111.831501,"251":-111.831501,"252":-111.831501,"253":-111.831501,"254":-111.831501,"255":-111.831501,"256":-111.831501,"257":-111.831501,"258":-111.831501,"259":-111.831501,"260":-111.831501,"261":-111.831501,"262":-111.831501,"263":-111.831501,"264":-111.831501,"265":-111.831501,"266":-111.831501,"267":-111.831501,"268":-111.831501,"269":-111.831501,"270":-111.831501,"271":-111.831501,"272":-111.831501,"273":-111.831501,"274":-111.831501,"275":-111.831501,"276":-111.831501,"277":-111.831501,"278":-111.831501,"279":-111.831501,"280":-111.831501,"281":-111.831501,"282":-111.831501,"283":-111.831501,"284":-111.831501,"285":-111.831501,"286":-111.831501,"287":-111.831501,"288":-111.831501,"289":-111.831501,"290":-111.831501,"291":-111.831501,"292":-111.831501,"293":-111.831501,"294":-111.831501,"295":-111.831501,"296":-111.831501,"297":-111.831501,"298":-111.831501,"299":-111.831501,"300":-111.831501,"301":-111.831501,"302":-111.831501,"303":-111.831501,"304":-111.831501,"305":-111.831501,"306":-111.831501,"307":-111.831501,"308":-111.831501,"309":-111.831501,"310":-111.831501,"311":-111.831501,"312":-111.831501,"313":-111.831501,"314":-111.831501,"315":-111.831501,"316":-111.831501,"317":-111.831501,"318":-111.831501,"319":-111.831501,"320":-111.831501,"321":-111.831501,"322":-111.831501,"323":-111.831501,"324":-111.831501,"325":-111.831501,"326":-111.831501,"327":-111.831501,"328":-111.831501,"329":-111.831501,"330":-111.831501,"331":-111.831501,"332":-111.831501,"333":-111.831501,"334":-111.831501,"335":-111.831501,"336":-111.831501,"337":-111.831501,"338":-111.831501,"339":-111.831501,"340":-111.831501,"341":-111.831501,"342":-111.831501,"343":-111.831501,"344":-111.831501,"345":-111.831501,"346":-111.831501,"347":-111.831501,"348":-111.831501,"349":-111.831501,"350":-111.831501,"351":-111.831501,"352":-111.831501,"353":-111.831501,"354":-111.831501,"355":-111.831501,"356":-111.831501,"357":-111.831501,"358":-111.831501,"359":-111.831501,"360":-111.831501,"361":-111.831501,"362":-111.831501,"363":-111.831501,"364":-111.831501,"365":-111.831501,"366":-111.831501,"367":-111.831501,"368":-111.831501,"369":-111.831501,"370":-111.831501,"371":-111.831501,"372":-111.831501,"373":-111.831501,"374":-111.831501,"375":-111.831501,"376":-111.831501,"377":-111.831501,"378":-111.831501,"379":-111.831501,"380":-111.831501,"381":-111.831501,"382":-111.831501,"383":-111.831501,"384":-111.831501,"385":-111.831501,"386":-111.831501,"387":-111.831501,"388":-111.831501,"389":-111.831501,"390":-111.831501,"391":-111.831501,"392":-111.831501,"393":-111.831501,"394":-111.831501,"395":-111.831501,"396":-111.831501,"397":-111.831501,"398":-111.831501,"399":-111.831501,"400":-111.831501,"401":-111.831501,"402":-111.831501,"403":-111.831501,"404":-111.831501,"405":-111.831501,"406":-111.831501,"407":-111.831501,"408":-111.831501,"409":-111.831501,"410":-111.831501,"411":-111.831501,"412":-111.831501,"413":-111.831501,"414":-111.831501,"415":-111.831501,"416":-111.831501,"417":-111.831501,"418":-111.831501,"419":-111.831501,"420":-111.831501,"421":-111.831501,"422":-111.831501,"423":-111.831501,"424":-111.831501,"425":-111.831501,"426":-111.831501,"427":-111.831501,"428":-111.831501,"429":-111.831501,"430":-111.831501,"431":-111.831501,"432":-111.831501,"433":-111.831501,"434":-111.831501,"435":-111.831501,"436":-111.831501,"437":-111.831501,"438":-111.831501,"439":-111.831501,"440":-111.831501,"441":-111.831501,"442":-111.831501,"443":-111.831501,"444":-111.831501,"445":-111.831501,"446":-111.831501,"447":-111.831501,"448":-111.831501,"449":-111.831501,"450":-111.831501,"451":-111.831501,"452":-111.831501,"453":-111.832001,"454":-111.832001,"455":-111.832001,"456":-111.832001,"457":-111.832001,"458":-111.832001,"459":-112.00004,"460":-112.00004,"461":-112.00004,"462":-111.887842,"463":-111.887842,"464":-111.887842,"465":-111.887842,"466":-111.887842,"467":-111.887842,"468":-111.888342,"469":-111.888342,"470":-111.888342,"471":-111.888342,"472":-111.888342,"473":-111.931699,"474":-111.931699,"475":-111.931699,"476":-111.88332,"477":-111.88382,"478":-111.88382,"479":-111.895326,"480":-111.895326,"481":-111.895326,"482":-111.895326,"483":-111.895326,"484":-111.895326,"485":-111.895326,"486":-111.895326,"487":-111.895326,"488":-111.895326,"489":-111.895326,"490":-111.895326,"491":-111.895326,"492":-111.895326,"493":-111.895326,"494":-111.895326,"495":-111.895326,"496":-111.895326,"497":-111.895326},"time":{"0":"2018-12-10T18:08:49Z","1":"2018-12-10T19:44:49Z","2":"2018-12-12T18:12:20Z","3":"2018-12-12T18:12:35Z","4":"2018-12-26T16:25:30Z","5":"2018-12-26T16:26:50Z","6":"2018-12-26T16:45:31Z","7":"2018-12-26T17:17:30Z","8":"2018-12-26T17:18:50Z","9":"2018-12-26T17:20:10Z","10":"2018-12-26T17:21:30Z","11":"2018-12-26T17:25:30Z","12":"2018-12-26T17:26:50Z","13":"2018-12-26T17:28:10Z","14":"2018-12-26T17:29:30Z","15":"2018-12-26T17:34:50Z","16":"2018-12-28T16:51:59Z","17":"2018-12-28T16:53:19Z","18":"2018-12-28T16:54:39Z","19":"2018-12-26T16:25:33Z","20":"2018-12-26T16:26:53Z","21":"2018-12-26T16:45:34Z","22":"2018-12-26T17:17:33Z","23":"2018-12-26T17:18:53Z","24":"2018-12-26T17:20:13Z","25":"2018-12-26T17:21:33Z","26":"2018-12-26T17:25:33Z","27":"2018-12-26T17:26:53Z","28":"2018-12-26T17:28:13Z","29":"2018-12-26T17:29:33Z","30":"2018-12-26T17:34:53Z","31":"2018-12-26T17:36:13Z","32":"2018-12-28T16:52:02Z","33":"2018-12-28T16:53:22Z","34":"2018-12-28T16:54:41Z","35":"2018-11-04T23:20:41Z","36":"2018-11-04T23:22:01Z","37":"2018-11-04T23:23:21Z","38":"2018-11-04T23:24:41Z","39":"2018-11-04T23:26:01Z","40":"2018-11-04T23:27:21Z","41":"2018-11-04T23:28:41Z","42":"2018-11-04T23:30:01Z","43":"2018-11-04T23:31:21Z","44":"2018-11-04T23:32:41Z","45":"2018-11-04T23:34:01Z","46":"2018-11-04T23:35:21Z","47":"2018-11-04T23:36:41Z","48":"2018-11-04T23:38:01Z","49":"2018-11-04T23:39:21Z","50":"2018-11-04T23:40:41Z","51":"2018-11-04T23:43:21Z","52":"2018-11-04T23:44:41Z","53":"2018-11-04T23:46:01Z","54":"2018-11-05T00:56:41Z","55":"2018-11-05T01:00:41Z","56":"2018-11-05T01:06:01Z","57":"2018-11-05T01:08:41Z","58":"2018-11-05T01:34:01Z","59":"2018-11-05T01:35:21Z","60":"2018-11-05T01:36:41Z","61":"2018-12-02T01:48:42Z","62":"2018-12-02T01:50:02Z","63":"2018-12-02T01:51:22Z","64":"2018-12-02T01:53:10Z","65":"2018-12-02T01:54:22Z","66":"2018-12-02T01:55:40Z","67":"2018-12-02T01:57:02Z","68":"2018-12-02T01:59:05Z","69":"2018-12-02T02:00:17Z","70":"2018-12-02T02:01:25Z","71":"2018-12-02T02:02:40Z","72":"2018-12-02T02:04:00Z","73":"2018-12-02T02:05:20Z","74":"2018-12-02T02:08:37Z","75":"2018-12-02T02:09:57Z","76":"2018-12-22T21:48:06Z","77":"2019-02-11T02:15:55Z","78":"2019-02-11T02:17:15Z","79":"2019-02-11T02:18:35Z","80":"2019-02-11T02:19:55Z","81":"2019-02-11T02:21:15Z","82":"2019-02-11T02:22:35Z","83":"2019-02-11T02:23:55Z","84":"2019-02-11T02:25:14Z","85":"2019-02-11T02:26:35Z","86":"2019-02-11T02:27:55Z","87":"2019-02-11T02:29:15Z","88":"2019-02-11T02:30:35Z","89":"2019-02-11T02:31:55Z","90":"2019-02-11T02:33:15Z","91":"2019-02-11T02:34:35Z","92":"2019-02-11T02:35:54Z","93":"2019-02-11T02:37:15Z","94":"2019-02-11T02:39:55Z","95":"2018-11-04T23:21:11Z","96":"2018-11-04T23:22:31Z","97":"2018-11-04T23:23:51Z","98":"2018-11-04T23:25:11Z","99":"2018-11-04T23:26:31Z","100":"2018-11-04T23:27:51Z","101":"2018-11-04T23:29:11Z","102":"2018-11-04T23:30:31Z","103":"2018-11-04T23:31:51Z","104":"2018-11-04T23:33:11Z","105":"2018-11-04T23:34:31Z","106":"2018-11-04T23:35:51Z","107":"2018-11-04T23:37:11Z","108":"2018-11-04T23:38:31Z","109":"2018-11-04T23:39:51Z","110":"2018-11-04T23:41:11Z","111":"2018-11-04T23:43:51Z","112":"2018-11-04T23:45:11Z","113":"2018-11-04T23:46:31Z","114":"2018-11-05T01:09:11Z","115":"2018-11-05T01:35:51Z","116":"2018-12-02T01:48:57Z","117":"2018-12-02T01:50:17Z","118":"2018-12-02T01:51:37Z","119":"2018-12-02T01:53:25Z","120":"2018-12-02T01:54:35Z","121":"2018-12-02T01:55:55Z","122":"2018-12-02T01:57:15Z","123":"2018-12-02T02:01:39Z","124":"2018-12-02T02:02:54Z","125":"2018-12-02T02:04:14Z","126":"2018-12-02T02:05:34Z","127":"2018-12-02T02:07:37Z","128":"2018-12-02T02:08:52Z","129":"2018-12-02T02:10:12Z","130":"2018-12-22T21:48:21Z","131":"2019-02-11T02:15:58Z","132":"2019-02-11T02:17:18Z","133":"2019-02-11T02:18:38Z","134":"2019-02-11T02:19:58Z","135":"2019-02-11T02:21:17Z","136":"2019-02-11T02:22:38Z","137":"2019-02-11T02:23:58Z","138":"2019-02-11T02:25:18Z","139":"2019-02-11T02:27:58Z","140":"2019-02-11T02:29:17Z","141":"2019-02-11T02:30:38Z","142":"2019-02-11T02:31:58Z","143":"2019-02-11T02:33:18Z","144":"2019-02-11T02:34:38Z","145":"2019-02-11T02:35:57Z","146":"2019-02-11T02:37:17Z","147":"2019-02-11T02:39:57Z","148":"2019-01-06T18:18:41Z","149":"2019-01-06T18:30:41Z","150":"2019-01-06T18:32:01Z","151":"2019-01-06T18:33:21Z","152":"2019-01-06T18:34:41Z","153":"2019-01-06T18:36:01Z","154":"2019-01-06T18:37:21Z","155":"2019-01-06T18:40:02Z","156":"2019-01-06T18:41:21Z","157":"2019-01-06T18:42:42Z","158":"2019-01-06T18:44:01Z","159":"2019-01-06T18:45:21Z","160":"2019-01-06T18:46:41Z","161":"2019-01-06T18:48:01Z","162":"2019-01-06T18:49:22Z","163":"2019-01-06T18:50:41Z","164":"2019-01-06T18:52:01Z","165":"2019-01-06T18:53:21Z","166":"2019-01-06T18:54:41Z","167":"2019-01-06T18:56:01Z","168":"2019-01-06T18:57:21Z","169":"2019-01-06T18:58:41Z","170":"2019-01-06T19:00:02Z","171":"2019-01-06T19:04:01Z","172":"2019-01-06T19:05:21Z","173":"2019-01-06T19:06:41Z","174":"2019-01-06T19:13:21Z","175":"2019-01-06T22:50:41Z","176":"2019-01-06T22:52:01Z","177":"2019-01-06T22:53:30Z","178":"2019-01-07T01:06:41Z","179":"2019-02-19T21:11:32Z","180":"2019-02-19T21:12:52Z","181":"2019-02-19T21:14:12Z","182":"2019-02-19T21:15:32Z","183":"2019-02-19T21:16:52Z","184":"2019-02-19T21:18:13Z","185":"2019-02-19T21:19:32Z","186":"2019-02-19T21:20:52Z","187":"2019-02-19T21:22:12Z","188":"2019-02-19T21:23:32Z","189":"2019-02-19T21:24:52Z","190":"2019-02-26T18:44:33Z","191":"2019-02-26T18:48:33Z","192":"2019-02-26T18:49:53Z","193":"2019-02-26T18:51:13Z","194":"2019-02-26T18:52:33Z","195":"2019-02-26T18:53:53Z","196":"2019-02-26T18:55:13Z","197":"2019-01-06T18:18:45Z","198":"2019-01-06T18:30:44Z","199":"2019-01-06T18:32:04Z","200":"2019-01-06T18:33:24Z","201":"2019-01-06T18:34:47Z","202":"2019-01-06T18:36:04Z","203":"2019-01-06T18:37:24Z","204":"2019-01-06T18:40:05Z","205":"2019-01-06T18:41:24Z","206":"2019-01-06T18:42:45Z","207":"2019-01-06T18:44:04Z","208":"2019-01-06T18:45:25Z","209":"2019-01-06T18:46:44Z","210":"2019-01-06T18:48:04Z","211":"2019-01-06T18:49:24Z","212":"2019-01-06T18:50:44Z","213":"2019-01-06T18:52:04Z","214":"2019-01-06T18:53:24Z","215":"2019-01-06T18:54:44Z","216":"2019-01-06T18:56:04Z","217":"2019-01-06T18:57:24Z","218":"2019-01-06T18:58:45Z","219":"2019-01-06T19:00:05Z","220":"2019-01-06T19:04:05Z","221":"2019-01-06T19:05:24Z","222":"2019-01-06T19:06:44Z","223":"2019-01-06T22:50:44Z","224":"2019-01-06T22:52:04Z","225":"2019-01-06T22:53:33Z","226":"2019-01-07T01:06:44Z","227":"2019-02-19T21:11:35Z","228":"2019-02-19T21:12:55Z","229":"2019-02-19T21:14:15Z","230":"2019-02-19T21:15:35Z","231":"2019-02-19T21:16:55Z","232":"2019-02-19T21:18:15Z","233":"2019-02-19T21:19:35Z","234":"2019-02-19T21:20:55Z","235":"2019-02-19T21:22:15Z","236":"2019-02-19T21:23:35Z","237":"2019-02-19T21:24:55Z","238":"2019-02-19T21:26:15Z","239":"2019-02-26T18:44:36Z","240":"2019-02-26T18:51:16Z","241":"2019-02-26T18:52:36Z","242":"2019-02-26T18:53:56Z","243":"2019-02-13T18:47:46Z","244":"2018-11-24T06:00:20Z","245":"2018-11-24T06:01:40Z","246":"2018-11-24T06:03:00Z","247":"2018-11-24T06:04:20Z","248":"2018-11-24T06:05:40Z","249":"2018-11-24T06:07:00Z","250":"2018-11-24T06:08:20Z","251":"2018-11-24T06:09:40Z","252":"2018-11-24T06:11:00Z","253":"2018-11-24T06:12:20Z","254":"2018-11-24T06:13:40Z","255":"2018-11-24T06:15:00Z","256":"2018-11-24T06:16:20Z","257":"2018-11-24T06:17:40Z","258":"2018-11-24T06:19:00Z","259":"2018-11-24T07:17:40Z","260":"2018-11-24T07:19:00Z","261":"2018-11-24T07:20:20Z","262":"2018-11-24T07:21:40Z","263":"2018-11-24T07:23:00Z","264":"2018-11-24T07:24:20Z","265":"2018-11-24T07:25:40Z","266":"2018-11-24T07:27:00Z","267":"2018-11-24T07:28:20Z","268":"2018-11-24T07:29:40Z","269":"2018-11-24T07:31:00Z","270":"2018-11-24T07:32:20Z","271":"2018-11-24T07:33:40Z","272":"2018-11-24T07:35:00Z","273":"2018-11-24T07:36:20Z","274":"2018-11-24T07:37:40Z","275":"2018-11-24T07:39:00Z","276":"2018-11-24T07:40:20Z","277":"2018-11-24T07:41:40Z","278":"2018-11-24T07:43:00Z","279":"2018-11-24T07:44:20Z","280":"2018-11-24T07:45:40Z","281":"2018-11-24T07:47:00Z","282":"2018-11-24T07:48:20Z","283":"2018-11-24T07:49:40Z","284":"2018-11-24T07:51:00Z","285":"2018-11-24T07:52:20Z","286":"2018-11-24T07:53:40Z","287":"2018-11-24T07:55:00Z","288":"2018-11-24T07:56:20Z","289":"2018-11-24T07:57:40Z","290":"2018-11-24T07:59:00Z","291":"2018-11-24T08:00:20Z","292":"2018-11-24T08:01:40Z","293":"2018-11-24T08:03:00Z","294":"2018-11-24T08:04:20Z","295":"2018-11-24T08:05:40Z","296":"2018-11-24T08:07:00Z","297":"2018-11-24T08:08:20Z","298":"2018-11-24T08:09:40Z","299":"2018-11-24T08:11:00Z","300":"2018-11-24T08:12:20Z","301":"2018-11-24T08:13:40Z","302":"2018-11-24T08:15:00Z","303":"2018-11-24T08:16:20Z","304":"2018-11-24T08:17:40Z","305":"2018-11-24T08:19:00Z","306":"2018-11-24T08:20:20Z","307":"2018-11-24T08:21:40Z","308":"2018-11-24T08:23:00Z","309":"2018-11-24T08:24:20Z","310":"2018-11-24T08:25:40Z","311":"2018-11-24T08:27:00Z","312":"2018-11-24T08:28:20Z","313":"2018-11-24T08:29:40Z","314":"2018-11-24T08:31:00Z","315":"2018-11-24T08:32:20Z","316":"2018-11-24T08:33:40Z","317":"2018-11-24T08:35:00Z","318":"2018-11-24T08:36:20Z","319":"2018-11-24T08:37:40Z","320":"2018-11-24T08:39:00Z","321":"2018-11-24T08:40:20Z","322":"2018-11-24T08:41:40Z","323":"2018-11-24T08:43:00Z","324":"2018-11-24T08:44:20Z","325":"2018-11-24T08:45:40Z","326":"2018-11-24T08:47:00Z","327":"2018-11-24T08:48:20Z","328":"2018-11-24T08:49:40Z","329":"2018-11-24T08:51:00Z","330":"2018-11-24T08:52:20Z","331":"2018-11-24T08:53:40Z","332":"2018-11-24T08:55:00Z","333":"2018-11-24T08:56:20Z","334":"2018-11-24T08:57:40Z","335":"2018-11-24T08:59:00Z","336":"2018-11-24T09:00:20Z","337":"2018-11-24T09:01:40Z","338":"2018-11-24T09:03:00Z","339":"2018-11-24T09:04:20Z","340":"2018-11-24T09:05:40Z","341":"2018-11-24T09:07:00Z","342":"2018-11-24T09:08:20Z","343":"2018-11-24T09:09:40Z","344":"2018-11-24T09:11:00Z","345":"2018-11-24T09:12:20Z","346":"2018-11-24T09:13:40Z","347":"2018-11-24T09:15:00Z","348":"2018-11-24T09:16:20Z","349":"2018-11-29T06:43:33Z","350":"2018-11-29T06:44:53Z","351":"2018-11-29T06:46:13Z","352":"2018-11-29T06:47:33Z","353":"2018-11-29T06:48:53Z","354":"2018-11-29T06:50:13Z","355":"2018-11-29T06:51:33Z","356":"2018-11-29T06:52:53Z","357":"2018-11-29T06:54:13Z","358":"2018-12-01T02:49:56Z","359":"2018-12-01T02:51:16Z","360":"2018-12-01T02:52:36Z","361":"2018-12-01T02:53:56Z","362":"2018-12-01T02:55:16Z","363":"2018-12-01T02:56:36Z","364":"2018-12-01T03:00:36Z","365":"2018-12-01T03:01:56Z","366":"2018-12-01T05:56:36Z","367":"2018-12-01T06:01:56Z","368":"2018-12-01T06:07:16Z","369":"2018-12-01T07:16:36Z","370":"2018-12-01T07:17:56Z","371":"2018-12-01T07:23:16Z","372":"2018-12-01T07:24:36Z","373":"2018-12-01T07:27:16Z","374":"2018-12-01T07:29:56Z","375":"2018-12-01T07:57:56Z","376":"2018-12-01T07:59:16Z","377":"2018-12-01T08:00:36Z","378":"2018-12-01T08:01:56Z","379":"2018-12-01T08:03:16Z","380":"2018-12-01T08:04:36Z","381":"2018-12-01T08:05:56Z","382":"2018-12-01T08:07:16Z","383":"2018-12-01T08:08:36Z","384":"2018-12-02T13:15:47Z","385":"2018-12-02T14:10:30Z","386":"2018-12-02T14:14:30Z","387":"2018-12-02T14:15:50Z","388":"2018-12-02T14:17:10Z","389":"2018-12-02T14:18:30Z","390":"2018-12-02T14:19:50Z","391":"2018-12-02T14:21:10Z","392":"2018-12-02T14:23:50Z","393":"2018-12-02T14:27:50Z","394":"2018-12-02T14:29:10Z","395":"2018-12-02T14:30:30Z","396":"2018-12-02T14:33:10Z","397":"2018-12-02T14:34:30Z","398":"2018-12-02T14:37:10Z","399":"2018-12-02T14:38:30Z","400":"2018-12-02T14:39:50Z","401":"2018-12-02T14:49:10Z","402":"2018-12-02T14:50:30Z","403":"2018-12-02T14:51:50Z","404":"2018-12-02T14:53:10Z","405":"2018-12-02T14:54:30Z","406":"2018-12-06T11:40:02Z","407":"2018-12-06T11:42:42Z","408":"2018-12-06T11:46:42Z","409":"2018-12-06T13:49:22Z","410":"2018-12-15T12:48:35Z","411":"2018-12-15T12:55:15Z","412":"2018-12-15T12:56:35Z","413":"2018-12-15T13:13:55Z","414":"2018-12-15T13:15:15Z","415":"2018-12-15T15:31:15Z","416":"2018-12-15T15:32:35Z","417":"2018-12-15T15:33:55Z","418":"2018-12-15T15:35:15Z","419":"2018-12-15T15:36:35Z","420":"2018-12-15T15:37:55Z","421":"2018-12-15T15:39:15Z","422":"2018-12-15T15:40:35Z","423":"2018-12-15T15:41:55Z","424":"2018-12-15T17:12:35Z","425":"2018-12-15T17:13:55Z","426":"2018-12-15T17:15:15Z","427":"2018-12-15T17:16:35Z","428":"2018-12-15T17:17:55Z","429":"2018-12-15T17:19:15Z","430":"2018-12-15T17:20:35Z","431":"2018-12-15T17:21:55Z","432":"2018-12-15T17:23:15Z","433":"2018-12-15T17:24:35Z","434":"2018-12-15T17:25:55Z","435":"2018-12-15T17:27:15Z","436":"2018-12-15T17:28:35Z","437":"2018-12-15T17:29:55Z","438":"2018-12-15T17:31:15Z","439":"2018-12-15T17:32:35Z","440":"2018-12-15T17:33:55Z","441":"2018-12-15T17:35:15Z","442":"2018-12-15T17:36:35Z","443":"2018-12-15T17:37:55Z","444":"2018-12-15T17:39:15Z","445":"2018-12-15T17:40:35Z","446":"2018-12-16T04:30:30Z","447":"2018-12-16T05:18:30Z","448":"2018-12-16T06:40:33Z","449":"2018-12-22T06:31:43Z","450":"2018-12-23T02:45:03Z","451":"2019-01-30T03:26:01Z","452":"2019-01-30T03:30:05Z","453":"2019-02-11T10:39:11Z","454":"2019-02-11T10:41:51Z","455":"2019-02-11T10:43:11Z","456":"2019-02-11T10:44:31Z","457":"2019-02-11T11:05:51Z","458":"2019-02-11T11:08:31Z","459":"2019-02-17T22:49:19Z","460":"2019-02-17T22:50:39Z","461":"2019-02-17T22:57:19Z","462":"2018-12-14T01:55:50Z","463":"2018-12-14T01:57:10Z","464":"2018-12-14T01:58:30Z","465":"2018-12-14T01:59:50Z","466":"2018-12-14T02:01:10Z","467":"2018-12-14T02:02:30Z","468":"2018-12-14T01:56:20Z","469":"2018-12-14T01:57:40Z","470":"2018-12-14T01:59:00Z","471":"2018-12-14T02:00:20Z","472":"2018-12-14T02:01:40Z","473":"2019-01-19T23:41:12Z","474":"2019-01-19T23:42:35Z","475":"2019-01-19T23:43:52Z","476":"2019-02-17T05:01:00Z","477":"2019-02-17T05:01:02Z","478":"2019-02-17T05:37:03Z","479":"2018-11-12T13:01:15Z","480":"2018-11-12T13:02:35Z","481":"2018-11-12T13:03:55Z","482":"2018-11-12T13:05:15Z","483":"2018-11-12T13:06:35Z","484":"2018-11-12T13:07:55Z","485":"2018-11-12T13:09:15Z","486":"2018-11-12T13:10:35Z","487":"2018-11-12T13:11:55Z","488":"2018-11-12T13:13:15Z","489":"2018-11-12T13:14:35Z","490":"2018-11-12T13:15:55Z","491":"2018-11-12T13:17:15Z","492":"2018-11-12T13:18:35Z","493":"2018-11-12T13:19:55Z","494":"2018-11-12T13:21:15Z","495":"2018-11-12T13:22:35Z","496":"2018-11-12T13:23:55Z","497":"2018-11-12T14:49:53Z"}};
    this.times = this.data['time']
    console.log(this.times);
    this.shiftKeyPressed = false;

    window.onkeydown = (e) => {

      if(e.key == "y"){
        // label yes
        this.labels.push(1);
        this.currentPoint++;
      } else if(e.key == "n"){
        this.labels.push(0);
        this.currentPoint++;
        // label no
      } else if(e.key == "ArrowLeft"){
        this.currentPoint--;
      }
      let time = this.times[(this.currentPoint).toString()];
      window.controller.selector.grabAllModelDataOld(time);
    }

    let myStyles = [{
      "elementType": "geometry",
      "stylers": [{
        "color": "#f5f5f5"
      }]
    }, {
      "elementType": "labels.icon",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#616161"
      }]
    }, {
      "elementType": "labels.text.stroke",
      "stylers": [{
        "color": "#f5f5f5"
      }]
    }, {
      "featureType": "administrative.land_parcel",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "administrative.land_parcel",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#bdbdbd"
      }]
    }, {
      "featureType": "poi",
      "elementType": "geometry",
      "stylers": [{
        "color": "#eeeeee"
      }]
    }, {
      "featureType": "poi",
      "elementType": "labels.text",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "poi",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#757575"
      }]
    }, {
      "featureType": "poi.business",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "poi.park",
      "elementType": "geometry",
      "stylers": [{
        "color": "#e5e5e5"
      }]
    }, {
      "featureType": "poi.park",
      "elementType": "labels.text",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "poi.park",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#9e9e9e"
      }]
    }, {
      "featureType": "road",
      "elementType": "geometry",
      "stylers": [{
        "color": "#ffffff"
      }]
    }, {
      "featureType": "road.arterial",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "road.arterial",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#757575"
      }]
    }, {
      "featureType": "road.highway",
      "elementType": "geometry",
      "stylers": [{
        "color": "#dadada"
      }]
    }, {
      "featureType": "road.highway",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "road.highway",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#616161"
      }]
    }, {
      "featureType": "road.local",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "road.local",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "road.local",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#9e9e9e"
      }]
    }, {
      "featureType": "transit.line",
      "elementType": "geometry",
      "stylers": [{
        "color": "#e5e5e5"
      }]
    }, {
      "featureType": "transit.station",
      "elementType": "geometry",
      "stylers": [{
        "color": "#eeeeee"
      }]
    }, {
      "featureType": "water",
      "elementType": "geometry",
      "stylers": [{
        "color": "#c9c9c9"
      }]
    }, {
      "featureType": "water",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#9e9e9e"
      }]
    }]

    this.myMap = new google.maps.Map(document.getElementById('map'), {
      zoom: 10.5,
      center: {
        lat: 40.69255337197885,
        lng: -111.86895401000976
      },
      styles: myStyles,
      streetViewControl: false,
      fullscreenControl: false

    });
    /* Create legend*/
    let legendColorMap = d3.scaleThreshold()
      .domain(this.pm25Domain.reverse())
      .range(this.colorRange.reverse());

    let colorLegend = d3.legendColor()
      .labelFormat(d3.format(".0f"))
      .cells(window.controller.pm25Domain)
      //.labels(d3.legendHelpers.thresholdLabels)
      .scale(this.colorMap)
      .shapePadding(2)
      .shapeWidth(50)
      .shapeHeight(20)
      .labelOffset(5)
      .ascending(true);


  }

  getDataAtTime(time){

      window.controller.selector.grabAllModelContour(time);

  }

  updateModelContour(contour){

    if (this.lastData) {

      this.myMap.data.forEach((feature) => {
        this.myMap.data.remove(feature);
      })

    }

    this.lastData = contour.contour;
    let that = this;
    let startDate = new Date();
    let startStamp = startDate.getTime()
    let imported = this.myMap.data.addGeoJson(contour.contour)
    if(imported != null){
      this.loadedTiles = true;
    }

    this.myMap.data.setStyle(styleContour);
    /*this.myMap.data.setStyle(function(feature) {
      var color = 'gray';
      var opacity = 0;
      let value = 10;
      if (feature.getProperty('value')) {
        value = feature.getProperty('value')+10;
        color = that.colorMap(feature.getProperty('value'));
        opacity = 0.6;
        console.log(value);
      }
      return /** @type {!google.maps.Data.StyleOptions}  ({{
        fillColor: color,
        strokeWeight: 0,
        fillOpacity: opacity,

      },zIndex: value);
    });*/
    function styleContour(feature) {
      var color = 'gray';
      var opacity = 0;
      let zIndex = 10;
      if (feature.getProperty('value')) {
        zIndex = feature.getProperty('value')*10+10;
        color = that.colorMap(feature.getProperty('value'));
        opacity = 0.6;
      }
       return {
              fillColor: color,
              strokeWeight: 0,
              fillOpacity: opacity,
              zIndex:zIndex
        };
    }
    let stopDate = new Date();
    let stopStamp = startDate.getTime()
    console.log("d3 contour time: ", (stopStamp - startStamp))



  }





  updateModel(modelData) {
    if(modelData.data){
      modelData = modelData.data;
    }

    this.modelData = modelData;

    //modelData = [8.964339902535034,15.595682501404061,16.57042698744204,18.19133816333678,11.611668095213714,11.565647168212108,9.916192521114132,6.541899730217069,7.052352588683608,7.501035178307062,12.019836906924501,16.98977615367748,14.43903630464879,18.41282496331842,11.333456684937138,9.348287548592062,14.489214074824726,6.790941527231953,7.815439492232705,8.135989384967434,13.852967147718985,17.47881501875145,17.602093468948997,18.830038387876115,16.222298703405457,11.069596451529595,12.860585717982625,5.843669206401813,6.430187999002033,8.673146088261356,14.552478042333625,17.200599865924136,21.489357944171832,20.283229563364984,22.151296051663245,12.974239563914061,10.456259349792571,9.093369517827368,8.655585226894358,9.608234030728035,14.663427790183809,15.271610089467535,19.424004390003876,19.44191061494021,20.92421296747697,15.638916349765802,9.75426986279476,12.976609675996558,11.121457884910457,10.471115502102577,14.966634341087122,15.06459586204938,19.77206699673942,16.27432872978454,21.08491498089317,18.887858898521586,11.711520640410228,10.284399004801326,10.85591700328193,10.676961765465006,15.418880386593878,17.324992752382588,20.867054510813166,13.975326921604745,20.773387078287815,21.984749565253274,15.453787202465993,15.829766955056902,13.49466080205513,10.41240450475944,15.238003806561725,15.702425998754974,19.789690539119942,17.16813636153775,23.63605745112857,24.109886934715696,21.57548452672802,20.333157196989834,16.441317860506214,13.19475038159874,14.422132334192963,13.80178996562388,14.180767016665985,18.971809169026482,24.201107603378983,25.317954340201148,25.655463931357115,22.65905392044519,19.313157803743675,17.18003245141215,12.696038236906523,13.763938609390353,12.647917754996156,19.517848958461776,24.30889143498016,25.726582171786102,26.038806451222484,24.10279485433458,21.681735071371676,20.208294359971237];

    // MODEL CODE:
    let startDate = new Date();
    let startStamp = startDate.getTime()
    let polygons = d3.contours()
      .size([36, 49])
      .thresholds(d3.range(0, d3.max(modelData), 1))
      (modelData);


    var geojson = {
      type: 'FeatureCollection',
      features: []
    };

    for (let polygon of polygons) {
      if (polygon.coordinates.length === 0) continue;
      let coords = convertCoords(polygon.coordinates);

      geojson.features.push({
        type: 'Feature',
        properties: {
          value: polygon.value
        },
        geometry: {
          type: polygon.type,
          coordinates: coords
        }
      })
    }

    function convertCoords(coords) {
      // NOTE: Work through flipping coordiantes
      var maxLng = -111.713403000000;
      var minLng = -112.001349000000;
      var minLat = 40.810475;
      var maxLat = 40.59885;

      var result = [];
      for (let poly of coords) {
        var newPoly = [];
        for (let ring of poly) {
          if (ring.length < 4) continue;
          var newRing = [];
          for (let p of ring) {
            newRing.push([
              minLng + (maxLng - minLng) * (p[0] / 36),
              maxLat - (maxLat - minLat) * (p[1] / 49)
            ]);
          }
          newPoly.push(newRing);
        }
        result.push(newPoly);
      }
      return result;
    }

    if (this.lastData) {
      this.myMap.data.forEach((feature) => {
        this.myMap.data.remove(feature);
      })
    }

    this.lastData = geojson;
    let that = this;
    this.myMap.data.addGeoJson(geojson)
    this.myMap.data.setStyle(function(feature) {
      var color = 'gray';

      if (feature.getProperty('value')) {
        color = that.colorMap(feature.getProperty('value'));
      }
      return /** @type {!google.maps.Data.StyleOptions} */ ({
        fillColor: color,
        strokeWeight: 0,
        fillOpacity: 0.6,
        zIndex: 10
      });
    });

    let stopDate = new Date();
    let stopStamp = stopDate.getTime()

    console.log("d3 contour time: ", (stopStamp - startStamp))

    let labelsMapType = new google.maps.StyledMapType([{
      // Hide all map features by default
      stylers: [{
        visibility: 'off'
      }]
    }, {
      featureType: 'road.highway',
      stylers: [{
        visibility: 'on'
      }]
    }, {
      featureType: 'road.arterial',
      stylers: [{
        visibility: 'on',
        color: '#444444'
      }]
    }, {
      featureType: 'administrative',
      stylers: [{
        visibility: 'on'
      }]
    }, {
      "featureType": "road",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "elementType": "geometry",
      "stylers": [{
        "color": "#f5f5f5"
      }]
    }], {
      name: 'Labels',
      id: "MyLabels"
    });

    // Add to the map's overlay collection
    this.myMap.overlayMapTypes.clear();
    let labelsMap = this.myMap.overlayMapTypes.push(labelsMapType);

    // Select the just created highway labels and bring it to the front.
    d3.select("#map > div > div > div:nth-child(1) > div:nth-child(1) > div:nth-child(1)").style('z-index', 1000000).style('opacity', 0.5);
    // consult this for d3 on top of leaflet: http://www.sydneyurbanlab.com/Tutorial7/tutorial7.html
    // working with SVGS and leaflet: https://stackoverflow.com/questions/50787719/make-svgs-on-top-of-leaflet-map-not-respond-to-pan-events
  }
}
